"use strict";
var redis = require('redis');
var nameData = require('../data/name.list.json');
function nameList(app) {
    app.get('/api/name-list/static', function (req, res, next) {
        res.json(nameData);
    });
    app.get('/api/name-list', function (req, res, next) {
        var RedisClient = redis.createClient(), nameList = [];
        RedisClient.smembers('name-list', function (err, replies) {
            console.log("\n          Reply length: " + replies.length + ". \n          Reply: " + replies + ".");
            nameList = replies;
            res.json(nameList);
        });
        RedisClient.quit();
    });
    app.post('/api/name-list', function (req, res, next) {
        var RedisClient = redis.createClient(), request = req.body;
        RedisClient.sadd('name-list', request.name, function (err, replies) {
            console.log("\n          Reply: " + replies + ".");
            res.json({ success: true });
        });
        RedisClient.quit();
    });
    app.delete('/api/name-list', function (req, res, next) {
        var RedisClient = redis.createClient(), request = req.body;
        RedisClient.srem('name-list', request.name, function (err, replies) {
            console.log("\n          Reply length: " + replies.length + ". \n          Reply: " + replies + ".");
            res.json({ success: true });
        });
        RedisClient.quit();
    });
}
exports.nameList = nameList;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL25hbWUubGlzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsSUFBWSxLQUFLLFdBQU0sT0FBTyxDQUFDLENBQUE7QUFFL0IsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUM7QUFFakQsa0JBQXlCLEdBQXdCO0lBTS9DLEdBQUcsQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEVBQzdCLFVBQUMsR0FBTyxFQUFFLEdBQU8sRUFBRSxJQUFRO1FBRXpCLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckIsQ0FBQyxDQUFDLENBQUM7SUFNTCxHQUFHLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUN0QixVQUFDLEdBQU8sRUFBRSxHQUFPLEVBQUUsSUFBUTtRQUV6QixJQUFJLFdBQVcsR0FBRyxLQUFLLENBQUMsWUFBWSxFQUFFLEVBQ2xDLFFBQVEsR0FBYSxFQUFFLENBQUM7UUFFNUIsV0FBVyxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQzlCLFVBQUMsR0FBTyxFQUFFLE9BQVc7WUFDbkIsT0FBTyxDQUFDLEdBQUcsQ0FBQywrQkFDSSxPQUFPLENBQUMsTUFBTSw2QkFDckIsT0FBTyxNQUFHLENBQUMsQ0FBQztZQUNyQixRQUFRLEdBQUcsT0FBTyxDQUFDO1lBQ25CLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdkIsQ0FBQyxDQUFDLENBQUM7UUFFSCxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDckIsQ0FBQyxDQUFDLENBQUM7SUFNTCxHQUFHLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUN2QixVQUFDLEdBQU8sRUFBRSxHQUFPLEVBQUUsSUFBUTtRQUV6QixJQUFJLFdBQVcsR0FBRyxLQUFLLENBQUMsWUFBWSxFQUFFLEVBQ2xDLE9BQU8sR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDO1FBR3ZCLFdBQVcsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxJQUFJLEVBQ3hDLFVBQUMsR0FBTyxFQUFFLE9BQVc7WUFDbkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyx3QkFDSCxPQUFPLE1BQUcsQ0FBQyxDQUFDO1lBRXJCLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBQyxPQUFPLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztRQUM1QixDQUFDLENBQUMsQ0FBQztRQUVMLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNyQixDQUFDLENBQUMsQ0FBQztJQU1MLEdBQUcsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEVBQ3pCLFVBQUMsR0FBTyxFQUFFLEdBQU8sRUFBRSxJQUFRO1FBRXpCLElBQUksV0FBVyxHQUFHLEtBQUssQ0FBQyxZQUFZLEVBQUUsRUFDbEMsT0FBTyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7UUFHdkIsV0FBVyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLElBQUksRUFDeEMsVUFBQyxHQUFPLEVBQUUsT0FBVztZQUNuQixPQUFPLENBQUMsR0FBRyxDQUFDLCtCQUNJLE9BQU8sQ0FBQyxNQUFNLDZCQUNyQixPQUFPLE1BQUcsQ0FBQyxDQUFDO1lBRXJCLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBQyxPQUFPLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztRQUM1QixDQUFDLENBQUMsQ0FBQztRQUVMLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNyQixDQUFDLENBQUMsQ0FBQztBQUVQLENBQUM7QUEvRWUsZ0JBQVEsV0ErRXZCLENBQUEiLCJmaWxlIjoic2VydmljZXMvbmFtZS5saXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCAqIGFzIHJlZGlzIGZyb20gJ3JlZGlzJztcblxubGV0IG5hbWVEYXRhID0gcmVxdWlyZSgnLi4vZGF0YS9uYW1lLmxpc3QuanNvbicpO1xuXG5leHBvcnQgZnVuY3Rpb24gbmFtZUxpc3QoYXBwOiBleHByZXNzLkFwcGxpY2F0aW9uKSB7XG5cbiAgLyoqXG4gICAqIEdldCBuYW1lIGxpc3QuXG4gICAqIEBzdGF0aWNcbiAgICovXG4gIGFwcC5nZXQoJy9hcGkvbmFtZS1saXN0L3N0YXRpYycsXG4gICAgKHJlcTphbnksIHJlczphbnksIG5leHQ6YW55KSA9PiB7XG5cbiAgICAgIHJlcy5qc29uKG5hbWVEYXRhKTtcbiAgICB9KTtcblxuICAvKipcbiAgICogR2V0IG5hbWUgbGlzdC5cbiAgICogQGRhdGFiYXNlXG4gICAqL1xuICBhcHAuZ2V0KCcvYXBpL25hbWUtbGlzdCcsXG4gICAgKHJlcTphbnksIHJlczphbnksIG5leHQ6YW55KSA9PiB7XG5cbiAgICAgIGxldCBSZWRpc0NsaWVudCA9IHJlZGlzLmNyZWF0ZUNsaWVudCgpLFxuICAgICAgICAgIG5hbWVMaXN0OiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICBSZWRpc0NsaWVudC5zbWVtYmVycygnbmFtZS1saXN0JyxcbiAgICAgICAgKGVycjphbnksIHJlcGxpZXM6YW55KSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFxuICAgICAgICAgIFJlcGx5IGxlbmd0aDogJHtyZXBsaWVzLmxlbmd0aH0uIFxuICAgICAgICAgIFJlcGx5OiAke3JlcGxpZXN9LmApO1xuICAgICAgICAgIG5hbWVMaXN0ID0gcmVwbGllcztcbiAgICAgICAgICByZXMuanNvbihuYW1lTGlzdCk7XG4gICAgICB9KTtcblxuICAgICAgUmVkaXNDbGllbnQucXVpdCgpO1xuICAgIH0pO1xuXG4gIC8qKlxuICAgKiBBZGQgbmV3IG5hbWUuXG4gICAqIEBkYXRhYmFzZVxuICAgKi9cbiAgYXBwLnBvc3QoJy9hcGkvbmFtZS1saXN0JyxcbiAgICAocmVxOmFueSwgcmVzOmFueSwgbmV4dDphbnkpID0+IHtcblxuICAgICAgbGV0IFJlZGlzQ2xpZW50ID0gcmVkaXMuY3JlYXRlQ2xpZW50KCksXG4gICAgICAgICAgcmVxdWVzdCA9IHJlcS5ib2R5O1xuICAgICAgICAgIC8vIHJlcXVlc3QgPSBKU09OLnBhcnNlKHJlcS5ib2R5KTtcblxuICAgICAgUmVkaXNDbGllbnQuc2FkZCgnbmFtZS1saXN0JywgcmVxdWVzdC5uYW1lLFxuICAgICAgICAoZXJyOmFueSwgcmVwbGllczphbnkpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgXG4gICAgICAgICAgUmVwbHk6ICR7cmVwbGllc30uYCk7XG5cbiAgICAgICAgICByZXMuanNvbih7c3VjY2VzczogdHJ1ZX0pO1xuICAgICAgICB9KTtcblxuICAgICAgUmVkaXNDbGllbnQucXVpdCgpO1xuICAgIH0pO1xuXG4gIC8qKlxuICAgKiBEZWxldGUgbmFtZS5cbiAgICogQGRhdGFiYXNlXG4gICAqL1xuICBhcHAuZGVsZXRlKCcvYXBpL25hbWUtbGlzdCcsXG4gICAgKHJlcTphbnksIHJlczphbnksIG5leHQ6YW55KSA9PiB7XG5cbiAgICAgIGxldCBSZWRpc0NsaWVudCA9IHJlZGlzLmNyZWF0ZUNsaWVudCgpLFxuICAgICAgICAgIHJlcXVlc3QgPSByZXEuYm9keTtcbiAgICAgICAgICAvLyByZXF1ZXN0ID0gSlNPTi5wYXJzZShyZXEuYm9keSk7XG5cbiAgICAgIFJlZGlzQ2xpZW50LnNyZW0oJ25hbWUtbGlzdCcsIHJlcXVlc3QubmFtZSxcbiAgICAgICAgKGVycjphbnksIHJlcGxpZXM6YW55KSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFxuICAgICAgICAgIFJlcGx5IGxlbmd0aDogJHtyZXBsaWVzLmxlbmd0aH0uIFxuICAgICAgICAgIFJlcGx5OiAke3JlcGxpZXN9LmApO1xuXG4gICAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6IHRydWV9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgIFJlZGlzQ2xpZW50LnF1aXQoKTtcbiAgICB9KTtcblxufVxuIl19
