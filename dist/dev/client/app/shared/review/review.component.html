

<div class="tb-form" *ngIf="_authService.isLoggedIn()">
  <form [formGroup]="myForm">

    <div class="row">
      <rating
        class="rating"
        [(ngModel)]="rating"
        [ngModelOptions]="{standalone: true}"
        max="5"
        stateOn="fa fa-star"
        stateOff="fa fa-star-o"
        ngDefaultControl>
      </rating>
    </div>

    <div class="row">
      <div class="form-group">
        <label>Review</label>
        <textarea class="form-control" rows="4" formControlName="reviewcomment"></textarea>
      </div>
    </div>

    <div class="row">
      <button class='btn btn-primary' type='button'
              (click)="onSubmit()"
              [disabled]='!myForm.valid' data-toggle="modal">Save
      </button>
    </div>
  </form>
</div>


<div *ngIf="review != null">
  <div class="review row" *ngFor="let review of review">
    <div class="col-xs-12">
      <div class="row">
        <div class="col-xs-6"><h4 class="review-title">Jhon Doe</h4></div>
        <div class="col-xs-6">
          <small class="review-date">{{review?.created_at}}</small>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <rating [(ngModel)]="review.rating" [max]="max" [readonly]="isReadonly"
                  stateOn="fa fa-star"
                  stateOff="fa fa-star-o"
                  (onHover)="hoveringOver($event)" (onLeave)="resetStar($event)"
                  [titles]="['one','two','three']"></rating>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <p>{{review?.comment}}</p>
        </div>
      </div>
    </div>
  </div>
</div>
