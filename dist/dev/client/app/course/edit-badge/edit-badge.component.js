"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require("@angular/core");
var router_1 = require("@angular/router");
var badge_1 = require("../../models/badge");
var forms_1 = require("@angular/forms");
var course_service_1 = require("../../services/course.service");
var config_1 = require("../../services/config");
var EditBadgeComponent = (function () {
    function EditBadgeComponent(route, router, courseService, formBuilder) {
        this.route = route;
        this.router = router;
        this.courseService = courseService;
        this.formBuilder = formBuilder;
        this.image = '';
        this.resizeOptions = {
            resizeMaxHeight: 80,
            resizeMaxWidth: 80
        };
        this.badges = [];
        this.selectedBadge = new badge_1.Badge();
        this.display = false;
        this.message = {
            title: '',
            content: "",
            button: ''
        };
        this.isNumber = true;
        this.isEdited = false;
        this.editBadgeImage = "";
    }
    EditBadgeComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.createBadgeForm();
        this.badgePath = (config_1.publicUrl + "students/badges/").length;
        if (localStorage.getItem('course_id') != undefined) {
            this.courseService.getCourse(localStorage.getItem('course_id'))
                .subscribe(function (data) {
                _this.course = data.course;
                _this.getBadges(_this.course.id);
            }, function (error) { return console.log(error); });
        }
        else {
            this.router.navigate(['/teach']);
        }
    };
    EditBadgeComponent.prototype.createBadgeForm = function () {
        this.badgeForm = this.formBuilder.group({
            'name': ['', [forms_1.Validators.required]],
            'image': [''],
            'xp': ['', [forms_1.Validators.required]]
        });
    };
    EditBadgeComponent.prototype.resetCreateForm = function () {
        $('#closeModal').click();
        this.createBadgeForm();
        this.image = '';
        this.isNumber = true;
    };
    EditBadgeComponent.prototype.getBadges = function (id) {
        var _this = this;
        this.courseService.getAllBadge(id)
            .subscribe(function (data) {
            _this.badges = data.badge;
            _this.badges.map(function (badge) {
                badge.image = config_1.publicUrl + "students/badges/" + badge.image;
            });
        }, function (error) { return console.log(error); });
    };
    EditBadgeComponent.prototype.addBadge = function () {
        var _this = this;
        if (this.image == '') {
            this.image = "data:image/png;base64,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\n          ";
        }
        else {
            this.image = this.image;
        }
        var badge = new badge_1.Badge(this.course.id, '', this.badgeForm.value.name, this.image, this.badgeForm.value.xp);
        if (this.checkBadge(badge)) {
            this.isNumber = true;
            this.courseService.createBadge(badge)
                .subscribe(function (data) {
                if (data.status == 'success') {
                    _this.resetCreateForm();
                    _this.ngOnInit();
                    _this.image = '';
                }
            }, function (error) { return console.log(error); });
        }
        else {
            this.isNumber = false;
        }
    };
    EditBadgeComponent.prototype.checkBadge = function (badge) {
        var isBadge = false;
        if (badge.xp > 0) {
            isBadge = true;
        }
        return isBadge;
    };
    EditBadgeComponent.prototype.editBadgeModal = function (badge) {
        this.selectedBadge = badge;
        this.editBadgeImage = badge.image;
    };
    EditBadgeComponent.prototype.editBadge = function () {
        var _this = this;
        if (this.isEdited) {
            this.selectedBadge.image = this.editBadgeImage;
        }
        else {
            this.selectedBadge.image = this.selectedBadge.image.substring(this.badgePath);
        }
        this.isEdited = false;
        this.courseService.editBadge(this.selectedBadge)
            .subscribe(function (data) {
            if (data.status == 'success') {
                _this.ngOnInit();
                _this.resetEditForm();
            }
        }, function (error) { return console.log(error); });
    };
    EditBadgeComponent.prototype.selected = function (imageResult) {
        this.image = imageResult.resized
            && imageResult.resized.dataURL
            || imageResult.dataURL;
    };
    EditBadgeComponent.prototype.selectedBadgeImage = function (imageResult) {
        this.isEdited = true;
        this.editBadgeImage = imageResult.resized
            && imageResult.resized.dataURL
            || imageResult.dataURL;
    };
    EditBadgeComponent.prototype.deletePopup = function () {
        this.resetEditForm();
        this.display = true;
        this.message = {
            title: 'ลบเหรียญ',
            content: "\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E01\u0E32\u0E23\u0E25\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E40\u0E25\u0E37\u0E2D\u0E01",
            button: 'ลบ'
        };
    };
    EditBadgeComponent.prototype.deleteBadge = function () {
        var _this = this;
        this.selectedBadge.badge_id = this.selectedBadge.id;
        this.courseService.deleteBadge(this.selectedBadge.badge_id)
            .subscribe(function (data) {
            if (data.status == 'success') {
                _this.ngOnInit();
                _this.resetEditForm();
                _this.display = false;
            }
        }, function (error) { return console.log(error); });
    };
    EditBadgeComponent.prototype.resetEditForm = function () {
        $('#closeEditBadgeModal').click();
    };
    EditBadgeComponent.prototype.cancel = function () {
        window.history.back();
    };
    EditBadgeComponent.prototype.ngOnDestroy = function () { };
    EditBadgeComponent = __decorate([
        core_1.Component({
            moduleId: module.id,
            selector: 'edit-badge',
            templateUrl: 'edit-badge.component.html',
            styleUrls: ['edit-badge.component.css']
        }), 
        __metadata('design:paramtypes', [router_1.ActivatedRoute, router_1.Router, course_service_1.CourseService, forms_1.FormBuilder])
    ], EditBadgeComponent);
    return EditBadgeComponent;
}());
exports.EditBadgeComponent = EditBadgeComponent;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9jb3Vyc2UvZWRpdC1iYWRnZS9lZGl0LWJhZGdlLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEscUJBQXdCLGVBQWUsQ0FBQyxDQUFBO0FBRXhDLHVCQUF1RCxpQkFBaUIsQ0FBQyxDQUFBO0FBRXpFLHNCQUFvQixvQkFBb0IsQ0FBQyxDQUFBO0FBQ3pDLHNCQUFzQyxnQkFBZ0IsQ0FBQyxDQUFBO0FBQ3ZELCtCQUE0QiwrQkFBK0IsQ0FBQyxDQUFBO0FBRTVELHVCQUF3Qix1QkFBdUIsQ0FBQyxDQUFBO0FBVWhEO0lBdUJFLDRCQUNjLEtBQXFCLEVBQ3JCLE1BQWMsRUFDZCxhQUE0QixFQUM1QixXQUF3QjtRQUh4QixVQUFLLEdBQUwsS0FBSyxDQUFnQjtRQUNyQixXQUFNLEdBQU4sTUFBTSxDQUFRO1FBQ2Qsa0JBQWEsR0FBYixhQUFhLENBQWU7UUFDNUIsZ0JBQVcsR0FBWCxXQUFXLENBQWE7UUF2QnBDLFVBQUssR0FBVyxFQUFFLENBQUM7UUFDbkIsa0JBQWEsR0FBa0I7WUFDM0IsZUFBZSxFQUFFLEVBQUU7WUFDbkIsY0FBYyxFQUFFLEVBQUU7U0FDckIsQ0FBQztRQUVGLFdBQU0sR0FBWSxFQUFFLENBQUM7UUFFckIsa0JBQWEsR0FBVSxJQUFJLGFBQUssRUFBRSxDQUFDO1FBR25DLFlBQU8sR0FBWSxLQUFLLENBQUM7UUFDekIsWUFBTyxHQUFHO1lBQ1IsS0FBSyxFQUFFLEVBQUU7WUFDVCxPQUFPLEVBQUUsRUFBRTtZQUNYLE1BQU0sRUFBRSxFQUFFO1NBQ1gsQ0FBQztRQXlESixhQUFRLEdBQVksSUFBSSxDQUFDO1FBOEV2QixhQUFRLEdBQVksS0FBSyxDQUFDO1FBQzFCLG1CQUFjLEdBQVcsRUFBRSxDQUFDO0lBaklXLENBQUM7SUFFeEMscUNBQVEsR0FBUjtRQUFBLGlCQWdCQztRQWRDLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUV2QixJQUFJLENBQUMsU0FBUyxHQUFHLENBQUcs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IiwiZmlsZSI6ImFwcC9jb3Vyc2UvZWRpdC1iYWRnZS9lZGl0LWJhZGdlLmNvbXBvbmVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHtTdWJzY3JpcHRpb259IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQge0FjdGl2YXRlZFJvdXRlLCBSb3V0ZXIsIE5hdmlnYXRpb25FeHRyYXN9IGZyb20gXCJAYW5ndWxhci9yb3V0ZXJcIjtcbmltcG9ydCB7UmVzaXplT3B0aW9ucywgSW1hZ2VSZXN1bHR9IGZyb20gXCJuZzItaW1hZ2V1cGxvYWRcIjtcbmltcG9ydCB7QmFkZ2V9IGZyb20gXCIuLi8uLi9tb2RlbHMvYmFkZ2VcIjtcbmltcG9ydCB7Rm9ybUJ1aWxkZXIsIFZhbGlkYXRvcnN9IGZyb20gXCJAYW5ndWxhci9mb3Jtc1wiO1xuaW1wb3J0IHtDb3Vyc2VTZXJ2aWNlfSBmcm9tIFwiLi4vLi4vc2VydmljZXMvY291cnNlLnNlcnZpY2VcIjtcbmltcG9ydCB7Q291cnNlfSBmcm9tIFwiLi4vLi4vbW9kZWxzL2NvdXJzZVwiO1xuaW1wb3J0IHtwdWJsaWNVcmx9IGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9jb25maWdcIjtcbmRlY2xhcmUgdmFyICQ6YW55O1xuXG5AQ29tcG9uZW50KHtcbiAgICBtb2R1bGVJZDogbW9kdWxlLmlkLFxuICAgIHNlbGVjdG9yOiAnZWRpdC1iYWRnZScsXG4gICAgdGVtcGxhdGVVcmw6ICdlZGl0LWJhZGdlLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6WydlZGl0LWJhZGdlLmNvbXBvbmVudC5jc3MnXVxufSlcblxuZXhwb3J0IGNsYXNzIEVkaXRCYWRnZUNvbXBvbmVudCB7XG5cbiAgICBjb3Vyc2U6IENvdXJzZTtcblxuICAgIGltYWdlOiBzdHJpbmcgPSAnJztcbiAgICByZXNpemVPcHRpb25zOiBSZXNpemVPcHRpb25zID0ge1xuICAgICAgICByZXNpemVNYXhIZWlnaHQ6IDgwLFxuICAgICAgICByZXNpemVNYXhXaWR0aDogODBcbiAgICB9O1xuXG4gICAgYmFkZ2VzOiBCYWRnZVtdID0gW107XG4gICAgYmFkZ2VQYXRoOiBhbnk7XG4gICAgc2VsZWN0ZWRCYWRnZTogQmFkZ2UgPSBuZXcgQmFkZ2UoKTtcbiAgICBiYWRnZUZvcm06IGFueTtcblxuICAgIGRpc3BsYXk6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBtZXNzYWdlID0ge1xuICAgICAgdGl0bGU6ICcnLFxuICAgICAgY29udGVudDogYGAsXG4gICAgICBidXR0b246ICcnXG4gICAgfTtcblxuXG4gIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcbiAgICAgICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlcixcbiAgICAgICAgcHJpdmF0ZSBjb3Vyc2VTZXJ2aWNlOiBDb3Vyc2VTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGZvcm1CdWlsZGVyOiBGb3JtQnVpbGRlcikge31cblxuICAgIG5nT25Jbml0KCl7XG5cbiAgICAgIHRoaXMuY3JlYXRlQmFkZ2VGb3JtKCk7XG5cbiAgICAgIHRoaXMuYmFkZ2VQYXRoID0gYCR7cHVibGljVXJsfXN0dWRlbnRzL2JhZGdlcy9gLmxlbmd0aDtcblxuICAgICAgaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NvdXJzZV9pZCcpICE9IHVuZGVmaW5lZCl7XG4gICAgICAgIHRoaXMuY291cnNlU2VydmljZS5nZXRDb3Vyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NvdXJzZV9pZCcpKVxuICAgICAgICAgIC5zdWJzY3JpYmUoKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb3Vyc2UgPSBkYXRhLmNvdXJzZTtcbiAgICAgICAgICAgIHRoaXMuZ2V0QmFkZ2VzKHRoaXMuY291cnNlLmlkKTtcbiAgICAgICAgICB9LCBlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcikpO1xuICAgICAgfWVsc2Uge1xuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJy90ZWFjaCddKTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIGNyZWF0ZUJhZGdlRm9ybSgpe1xuICAgICAgICB0aGlzLmJhZGdlRm9ybSA9IHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xuICAgICAgICAgICAgJ25hbWUnOiBbJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXV0sXG4gICAgICAgICAgICAnaW1hZ2UnOiBbJyddLFxuICAgICAgICAgICAgJ3hwJzogWycnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlc2V0Q3JlYXRlRm9ybSgpe1xuICAgICAgICAkKCcjY2xvc2VNb2RhbCcpLmNsaWNrKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlQmFkZ2VGb3JtKCk7XG4gICAgICAgIHRoaXMuaW1hZ2UgPSAnJztcbiAgICAgICAgdGhpcy5pc051bWJlciA9IHRydWU7XG4gICAgfVxuXG5cbiAgICBnZXRCYWRnZXMoaWQ6IGFueSkge1xuICAgICAgICB0aGlzLmNvdXJzZVNlcnZpY2UuZ2V0QWxsQmFkZ2UoaWQpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgIChkYXRhOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhZGdlcyA9IGRhdGEuYmFkZ2U7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWRnZXMubWFwKChiYWRnZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICBiYWRnZS5pbWFnZSA9IGAke3B1YmxpY1VybH1zdHVkZW50cy9iYWRnZXMvJHtiYWRnZS5pbWFnZX1gXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3IgPT4gIGNvbnNvbGUubG9nKGVycm9yKSlcbiAgICB9XG5cbiAgaXNOdW1iZXI6IGJvb2xlYW4gPSB0cnVlO1xuICAgIGFkZEJhZGdlKCl7XG5cbiAgICAgICAgaWYodGhpcy5pbWFnZSA9PSAnJyl7XG4gICAgICAgICAgdGhpcy5pbWFnZSA9IGBkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUZBQUFBQlFDQVlBQUFDT0VmS3RBQUFTNmtsRVFWUjRYdTFjQ1hBVTE1bitlcnBuZEk2NEJBZ1FJSUc0WkFNU2E1dXdObVhCMnNZa2E0Y3RycFEzNVlDZEdDYytRRnJYMmtsOHNIYWNUYnhWNWpDcFpJM0x3RzY4NjdVaHhxRnNiRU9NOEJySEhFWUNjUW9kSTRRT0pLRmJvN25mMXQrakdmWDB2TzdwbmhGc0tzV3JVcUdpMy9tOS8vNy9Kd0UzVzBJSUNBbU52amtZTndGTWtBaHVBdmpYQUNDclhWa0FZQmdDbGdLQURZODRFNE1ESW5NQVlwMlErNjRqd2ZNTytmQWJUb0dzZHRsdytHM2ZoU0FVQWF3QUVBZzhFNDJWQXlpRlJTZ0YzSWVGM0wyZEpnWVBlZGNiQXFBTVdpRHBCd0JiWXg0dy9UTXpsL2VRa0NUdEV2TGUyelhrNkJpWThMb0N5R3EvbDRNQWV3bGd5d0Foa2pVTmJNNU1GK2J6ZS8ydDNYOEtOTGM5bTdUaTVHa3pZeFBwZTEwQUhBUU9heExaWER4am1kY0gzNVUyaDdlMitiVzBIMTM4YlR4em1Ca3o1QUN5NmxVdkFkaHd2U2t1MWlFSlNQZjUralovYmNzejZTV082OGJlUXdhZ3JFa0R3bzZobG5HeGdJcjEzZC9XRGRmeHlzc0JyMzk5UnJGamI2eitacjhQQ1lDc2F1VWFDTUttUktpT09kMEk5SHRBbEJQb2NvYlBZVWxOZ3BDYUJFdUtUZjQzbmtaejluOTFudVl0bFlDMUtjV09JVE9IRWdhUVZhL2VBWmlYZFlGdUozeE5IU0FLOFYvck5vYUxWWVNZa1FacDNBaUltUm13WktRYUd6ZlF5MTFXRFU5OVc2Y0ZLRTR2ZHV3ME5WaWpjMElBbWdXUHFNeFQwd3hmY3dmbzkwUWJVYVJ0U2hhc0UwY0RWdEhRZEFTaXQ3NE5ETmhwQjRxRllrZENkbVRjQUxMcVZXVkc1UjFSbU9kQ2d5RkthK3dDR251QUhqZHdzUldZTVJxd0QzRHVlRHN3ZmhnZko5dU1iQmxNSTBCNkxsNkI1MklEVFZTZURpeEtCTVM0QURSS2VVUmw3ak4xTXNVcEc3R2VPQ29ENHZCVVdhN1I3OTI5Zmp6K1FpV09uWXJOemdUcStJd2d1TGRsQjMva1poV1JOQ01iVmdJeVJsTlFJckgwb3ZSaUIzazRwcHRwQUkyQ1J6ZnNxV2tDdkg1NVUwSktFcXlUTW1WMjR5bURwWTlWUUJ4clJWWmVDbExzSWtaazJkQjRxVDk4b09hcWZyaDYvWENjNm8wNlpIb1NzR2dxOE9QNVFRcWxDMGt1bkJKVDZiaU9WUWJGQ1JBM2lLWUFER3BiQ3lrTjdlYjFvLzlZWlpoZENiaWttUk1na1p6U2FLL3Z2SUl2cW51eCtwZTVoaWlnbzhrRFIza3Zhc3Q2VVZQZWk2NnJudkM0ZGZPQkh5OElVbVBLSGRObE1MV2FySjBQbjBIQTZaWkJ0QUtGWmpXMFlRQ0RkcDZsVE8rRXBGbWRSODZGcWM2YW00V2ttZG02Y3VsS2t4c3JTczdoNFMxNUdESE9aZ2hBZGFlbVMvMzRmRWN6TGh6cGtqK1ZieGpzUVpTb2QzbUJyajQ0RDU4SkRUQXRFdzBCT0JBTUlQQnl0RTdvcTIrRjYweGRFRHhKUk1wOC9kc1B6ZlBNcjZyUk0wNUMwU094NVZZc2REL2Eyb0FUKzlydyt4VU1NOGNZQjFHaFZHaFFxYjNZc1NqV1dxSHZ4Z0NzWHJVUkVNaEY0elladkxJYStSc3BpT1I1VXczWmFFUjlKUHRLM3N0SGNyb3hNMFR2WUw5N3JCSU5GNXpZdmdLNGZXSmt6MWlVNkR4WUxyUHlRUHNYZTdGam94RVFZd0k0RUJpb05RcGU2cDM1aGt3Sm1xL2tWOVhvSGlmaDc0YUEra2dlL3RjTHRYRDErTEY5ZVRTQXRGNXEwV3pOaXlXRG5yd1ZSVnRrTDNhVXhnSXhOb0JWcXc5QlFCRnZvZ2laSjRsSUs1b2RVL09GNWhscTZudnppVXNJQkR4b09PZkZydWZHWTY2ck1XckxwUDNUN3A2dGVjRUVJQUZKalFFT08xQVl5MGJVQlpEVmZxOElBWGFJZXd0ZVAvb09WNFE5aXBRN1orbHFQUFVjUXluN2lQcisrNlZhVEwzZGlqTUhYZmo5NjdOUUtIYkFXOXNjdFhVcE8xTVdNYnpHb2NLWXJLd1BvQTcxOVI4NUh6WlZiRE1tZ0R3Qm80Mk01bmtQbmtESnUvbHhhMTdsV2xzZlBvL015WUJvRThJQWZxc2dBLzFmbm9PL3ZTZHFXM3FYcmFSQ0dpZ0J1WHFtalNhQWVyS1BqRTh5UXFtUm5aZDJyN20weHBhZFYvRDExWDQ4K0xOSlJqSFg3UGZWKzYwNCtzRlY1QmZaMEhrMUVBRWdXUVI5cFJWZy9aRit0OHpLOS9EMzdMM2NDbmQ1VUNIS3JNeXdLNlBFb1JrWTFnYXdhdFZPQ01JUG9uYnU5YVAzWUZuWTFrdStZenFrckJHbWdManpvWEo4NTdtSnlDMU1OelZPM1prOGs5ZFduTVhjKzVLUW5DNUVBd2pJbmtib3NwWGo5ZmJkdC84RTJJQUhOVEJHVTZGb0ExaTlxb01YMzFQYVRPSklPMUx1eWpjRndvRXZPL0R6M3poUS9KNjVjYnhGZHYraURsMnRmY2krUlpJL2h5aXc5SjBDWkk4YmpCM3lXSms4RkdKbFhndjV5VWFva0FzZ3ExcTFESUx3Z1hweUNnNzBIUnowdVdQWlZyek4vZkQ1U3FUTVM4WGZydFIyN1l6Y1NFaHh6TDNQQnNrV1BFYmRhUytzM1JJKzJ6RW5ZZ3IxdmtNZnRjd2FpbE82amdkRlZLaHB5VUl0QUxuczY2Nm9DMnUyZUdRZm1TNUYvMWcrSk1yajMxYWN4YVM1SW9hUHRZUVBlZTR6RDU1ZE93bkw3NCsrSE5mUlN2aXVSa2FGWkZkejltVHVmZlYrZkJ6d0JaVGZ1QnFaRDJEMWFqS2NvOXkyM3Ywbkl2MWNqY1cxS0dqSDdtWjhlS3JUY05CQWE1NEQyeHR4L3NzT3pMalRHdTV5dGRxSHppcUdQNzgzanp1TVlwSmtPU2libGpKeGR2VUFOUzBJMUxlRnU1TmRtRkhzaUlwMlJBR29wWDJWN2hyTnFtZlZheDM4MjQ5VjROWVZtU2hjT3RJSWwzTDdVT0JnKzVPWDhEY1BKSVZaMStkaHVIRFFpMjB2VEFPWkwxck5XVm9CTXY2VmpiU3hNcnhHNEhsY2Jsajd2V0NuTDBjQ0RoU3E0NGJSQUdySVB6VUxwRDg0M3hRSUlmYjkrVWV6RS9KNzMveEpKYVJrSHliTURDb09hZzJuZkZneU54UFBQS3B5Z0ZVN1ZBVU41SzlLT2U1eHVlRHNDc1liUlFZSXg2clZaNHhpNDJnQU5RSUh2WDg4R3A0c0h1MUw3UHYycHkzNHlkc3pUQUd2N0V3MjM3RzlMWmgxOXlEclhxdjNvOThoNE9ET3VUSG5sVjNQMG9xSWZpRTVxQVNQT2hBdzRsRVZnQXlIN1NXT0NMZVdSNEZSQ2tRdFA4eDZIclNoMVJ2T3dWNllGbmZnSUdUejNWSmtRL3JJb09KdzlUSlVmZUhGM20yM1JwZ3Rla2oyZm53QzhBV2o1REtsamJURDlxM3A2TGtXblZ1UzFBQUNzQmM3SWpEakFWZ0tRYmhidVFrMTZTZmRPdGxRM2tFNVI5N2lvM2hrYzE3Y3h2TTdQNjJCeStrSzIzdzBOMm5kVjUrYWdudnZNbTdJcTIxQ0ljVUczOXlKNUhGRU5hbThEbkQ3SXY1ZlVNbEJEZ3V2anBwS0xmL01CZzYrTHUvRzkwdk80NVhENWx5KzBNNjVOdDlKTHhaT0g0R1gxeHRMQTRUbTRzbEIzM3grY01GYTJ3cldFcG5rRW9DMXlweXlJUURWMnNzc2dDVC8zajF5RFd1MjVzV1VVN3dPb1dEQnFJbkJvQ3VaTE41R2l5RzVwNTdQVzlNc1p3cVZUUXRBVzJOWGhDa3pNQ1pDa1JnQ1VLbEFhQkt6QUQ3MmZDV2M0eVI4NStrSnBnRXMyOStPMHY5c2xJTUY4Y285NWFJOGU5QU1nT3Jnd2cwQnNPREJFN2h0K2VpNEZNZ3JTMDlqN0ZRUmsrY0VOZStaVDkzNDZTT1R1ZDZHa2R0SkZFQ29OUEVOQVRCZUJVS3k3KzBOVlRJdVk2WklTTW13UUdpUGozWERNckM1SFo1amx3eXhzTFcrSGF3eDB2Mjc0UUNHRkVpOEdwZ3liVi92YVEwZVdBQkdaRmh4L0FPK3V4YUxBdjArSC9vY1RiQ2NHd3ozTTVzRWZ5SGZIeGJQTjBMb0hrenV5L01QQlFXYXNRTkRBQzU5Y2tMY0VSaWl4SS9lYU1EVjZ1QmhKbzlQeGhzYnB5RS96M2gxRm9IWDI5NEpkUGREVkFKb1Q0WS9ueStieFlwNkNNN0JwTDB4QUt0V1JkbUJhaVdpRjhWUVU4R2VUMXJ4N0d2QkNHOXVRVG9XcmNtSzJ4WWtUNFFTNk82K29DSDg2MytlWWtnV01zYlFlNjBUZnI4ZmxyWWVXS3Bid3RzTWpCMkdRRTRtbDNoNWhuUnNDcXhhdlJjQ3ZxdWNVVzNHVU82WGdnbEcyeXZiNnJEckQ0TUpub0w3UjJMeG1xeTQ4aUZVMXZIeEd3M2hLb1ROejAvRDN5L1dEazRvd2FQOVdxNjB3OUl3S05jQ1U4Y2drR21QT2dyNU9oYU9KeEliUUk0dnpJdm9waSs5elhEK2wzWkh3WVN0dTY3Z0Q1OEZRMFJKNlNLV1B6Y0pzeFpxMUt2RnVKMlFiSncvSndQdmJPWkhsbW1LbnJZT21mSkN6VkxWQXN1MXdVU1R2MkF5V05KZ1lDTGN6eGVBNVJ0T09weGhpNzNFRVM0ZU1SU05pUlhGTUVxSklTQWZmN0VTRjZxZHlKbWJqa2ZqTUs3UC8yOFgzbisxRG41UEFETnlVckZ2TzU4YlFxRXA1ZjdFOGpvSUErNlpuZ0tST3AzQXhhYW9vd25CNnRiTm9RK2NlS0Q4S0NaQ2QvTnNKMm5zQ0NUUG4yNEd1NGkrQ3g4cXg0STFZMDNGQmltZ2NQQ3RKbnp6OFRYTVhKaUV5NmM5Nkc0Sm9Pcno2TkFhRHp3Q2pnQU1OVjM1VjlNQ3RFYW5SQUZFSkppMEl0SlVoQjJoMjlXS2hEWmhsbzFER3lmTi9QU3ZxMDBsbGtnVDczNjFEcUxFTU9NdXF4eE1wUnhJZllVM0NrQWVlTEw4YSs2Q3BXNHd5dXlmblEybVViZ3VFZnRHaHZUbDdhdHpJNFp6SXJ5Y2dobHpSa2wrVkZCMCs1cXhodVFmVWQyUmQxdnc1ZnN0bUhpTE5TS1F5Z05RQ3p4YVg2eTRBbUdnZ0lqcG1TKytBQVNPL0dNTWRSa2xqb2hVQng5QVRrbUhPcVF2QTJJVmtYNVBvU2xsUW1iTnYrKy9pclhicHNWay94RFZTVGFHU1hPa2NCd3dORkFOb0I1NGF2YjFUODhDRzVIRzNZUFUzQW5VWFl2NnhrdXk2K1NGVjBlenNTb1lTU3VZb1VJcTZWajRVQm5XdlRWRDE0UUp5N3I5MTZLb1RubXFjNGZkeUIyUml2L1prZzg5OEdUMlZXaGZQZXFUMlZTRGZSbndEK3JIT25vQWtxWlpyOXd3VHh2VGQzVmlSb3UwTm02clEzMHF3ejAvR3FkSmZVcFpOL1VPcTF4eHdHdVVTS3I0MUkwWEg4L0IwZ1hKY2lKSXEwVlJYLzU0TUhzS3Q3dm85RUNvcU9kUlgxZEdpU1Bxd2FTNTJoZ3E2emhRRmhFU2wyV0xUcFpmcVRpZS9OY3FQTEZ6SmplcFJGUzM1OVU2VkgzVGc0bTNSc282OVdrb2xGL3psUmNyN3gyTng1ZlpJK3c4SGlwaVpUT0Vqajc1RXh1ZUJ2OE03V3BZNlZJejBCN3NxMnhhTlRJeHFyT2k2Mk8wcURBV0t5LzVZUVh1Zm5vODE0Mzc4KzVXSEhpckNjTkdXNUJUcUUxMWRDQktJdFVjOCtMbHAzTnczMjFTVFBDRW5rSGZsNGtXQkFvbmcvN2xOWXVXOGF4VHBSV2pQcEJmV041M29EeXE0b2sycEZXd1F4SHBmZWU3c0hKalpLNmUySFhmcG5yMHRIdVJOOThXVVdYQU8rRGxNaTlhYXYxNDgrVThVRTVmNldIdytnditBQ3dVRUJnd25QMDZyQ3ZMUGczcUE4T0g5aExITXU0YW1vSmo0QVBqVkdueDBvTnlkNnNJS3ZGVnZtRWp4YkY0N1NrODhSK0RyRXYrTE5sMGpaVk9qSnN1eWFaSnFMNkZ0NS9lOWdBY3g3M0lIWnVDTjEvSmc4WFR3MDBDcWNjcVdUY3dPUk9CTEcyMzBlTDF3M0tTL3daUm5VaFNycU5MZ2JMTWtKL3IyeHlBRUxHNkZpdXJRVnovaXlwMFpZbFlzbTY4L0s3ajg3ZWI0RGpkaHpHNUVpYk4wV2RYV3IveGdnK041M3o0cDdVVDhmMEhSc0xaMVcwSVBJcTRVT1NGV21DVUhZRThSZGsrNTVaNEdUajUvUEhXQjBZSTBPclY1RHh2aWhMbUo2dnBkWGowZGdZZXVUUjVrdVJpb3NWcnMxRHpUWThNWEZhZWhPeGJZZ05IaW9Lb0xsMlNzUFg1YWNqTHRvU3JCbUp4alZud3hOWWVDT1M2UlN1T0xydUFITDA2NlpnVUdKcVRjZUtFOUkxWGJ4SWE4OXdYS2Zqa1pEQUlhcFRpUWxUWGNOYUg1VXN5NWJSbExCc3Z0QjdKUE1IUlpvcnk5QlFIeis1VGcyd2NRQTFXcGpKYWVwMmtMdHFoaGZaVUFLOGNEQzVKN0VvL2VvMWtYZU5wUDFKRlVhYTZXVk5UWlBDOGJsVlVtRE1KdVdpVzZ0YXdxMmFFYldtYWVGazNmR214MkNHQ2xYV3E5bDBhN1B6SHM4Q0xCNEt6VUdKbytvTG81MXhrRkRlZTllSHlPUytlZW5nQzFxL0pCb1hnblowOWhqU3RRRUdDSyszeUdtU2lzSnhNYnBCVWZWWWRyWHNxWFVCUnJDY09OSjloQ2h4a1plMEhoN3lrTlkzVEFsRUc3b0lQVnkvNWtUODFGWnQrbGlmWHVQaThYdlIxZE9rcUN6Sk5oTFllQ0UyZElOYVZ3VXV4eWNwQ0s4S2lCRkRIMzQwcDk1VHptQWFRQnZ2TEgvaWR4WjY2amtlOXhNcEVqV3FXVm9JNEtsdVVueVIwTnZpUm41T01aOWJsaE92NjNNNSs5UGRFZXdMeWJUdmRFTHBkY3FZczVGbUVxUzVyR0FMWnh1b085Y0N6Q0NneTgzWTRMZ0JwMDc0dkZtOFZKNHgrU2tzRXlOR2Jpcm9JdCs5NFBiQmhIOURuQWVhTUI1NWFNUGdraTRvY0tVTE1CSUNsRFJhSWg5S0tVZW5GZ1lWSjFySGNURTN2SW9wdHFkYWxkaUJOcXZqSUdMck1naGNYQ3lzMzVEdTA2QzF4MHBoSDllUW9BZW0rMEJEMlhPaEpQeld0cC90R1pMSXM1N0tHZ1kzTzRPWXp0T2FRR3RxQks2cEVlZERXcTdNSVdHYUc4a0pyeEUyQm9RazhmeXJhSUdXUGVsMlFKTjI1aUtXOWRhM0JGK0txaHkrR1FDUHF0S2VBalVyVGpPTnB6c01BcVlvZkpBQ0RZWVhCbXo5aEFHbFM5KzU1YzZ6VEp4NFIwcEtOdlp6eCt1RzcxZzEzU3dmOC9aNnc2YUhjSUxOWmdXUUpTTFlHZ2VOa3pvd0FMN3RvVk92TUNjOURsV0V6TXArNno1QUFHSnJVZTJqUkorTDRrZmZGcEVhL0gzMGQzVEZObEhnT0ZLRnBtenFCeTl6SWNoY0VyQm1LdjJRMHBBRFM1cjBIaXU0UzBwTjJpR09HYzRzQnlTZzI2cy9HQzZBY0ZLMXNpcW91bGVkajJKSXVZS01SRzgvSStrTU9ZSmdhVlVCU2hZQ3J0dzl1cDh2SXZ1THFJL1o3SVZ4czFBTHVzQ0JnUXp5S1FtOHoxdzNBMEtMczYvdm5lRHplWDdwc3dyY0RBVEpTaHJneFFPeDJRaURUUkZYUFBFQnhIMExBWmlPdnorUFoyZEFmU0dNWEhXVkZ3NlYyLzIrWlZWcmlFeTBqaEFSV0ZoaURwY2NGTkhkRkdOVGhTMk9vRXdUc2xJQ2RaditNaVZrUUV6aUcyYVVpKzNmdW1iZGFURTU2QkJiTEhKWml6V0tXZ2ExSUZwQmpKZ1lZV0NCWTd5NTRmSURMQzZHekQ2RGNoa3Fqa2hFc0FPV0NnTDBpc1BkNmc2WTh5ZjhiZ0dyNCt6Zmw1SGlCQWdFb0FBTmx2L1JLK3NzaG9KTUI1UmJBTWRSeXpReHAvTVVBYUdiVGYwbDlid0tZNEczY0JQQW1nQWtpa09Ed214U1lJSUQvQjBwU250aTkxWVhUQUFBQUFFbEZUa1N1UW1DQ1xuICAgICAgICAgIGA7XG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICB0aGlzLmltYWdlID0gdGhpcy5pbWFnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBiYWRnZSA9IG5ldyBCYWRnZSh0aGlzLmNvdXJzZS5pZCwgJycsIHRoaXMuYmFkZ2VGb3JtLnZhbHVlLm5hbWUsIHRoaXMuaW1hZ2UsIHRoaXMuYmFkZ2VGb3JtLnZhbHVlLnhwKTtcblxuICAgICAgICBpZih0aGlzLmNoZWNrQmFkZ2UoYmFkZ2UpKXtcbiAgICAgICAgICB0aGlzLmlzTnVtYmVyID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmNvdXJzZVNlcnZpY2UuY3JlYXRlQmFkZ2UoYmFkZ2UpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoZGF0YS5zdGF0dXMgPT0gJ3N1Y2Nlc3MnKXtcbiAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRDcmVhdGVGb3JtKCk7XG4gICAgICAgICAgICAgICAgICB0aGlzLm5nT25Jbml0KCk7XG4gICAgICAgICAgICAgICAgICB0aGlzLmltYWdlID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAoZXJyb3IpID0+IGNvbnNvbGUubG9nKGVycm9yKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgIHRoaXMuaXNOdW1iZXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNoZWNrQmFkZ2UoYmFkZ2U6IEJhZGdlKSA6IGJvb2xlYW57XG4gICAgICBsZXQgaXNCYWRnZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICBpZihiYWRnZS54cCA+IDApe1xuICAgICAgICBpc0JhZGdlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0JhZGdlO1xuICAgIH1cblxuXG4gICAgZWRpdEJhZGdlTW9kYWwoYmFkZ2U6IEJhZGdlKXtcblxuICAgICAgdGhpcy5zZWxlY3RlZEJhZGdlID0gYmFkZ2U7XG4gICAgICB0aGlzLmVkaXRCYWRnZUltYWdlID0gYmFkZ2UuaW1hZ2U7XG4gICAgfVxuXG4gICAgZWRpdEJhZGdlKCl7XG5cblxuICAgICAgaWYodGhpcy5pc0VkaXRlZCl7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRCYWRnZS5pbWFnZSA9IHRoaXMuZWRpdEJhZGdlSW1hZ2U7XG4gICAgICB9ZWxzZSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRCYWRnZS5pbWFnZSA9IHRoaXMuc2VsZWN0ZWRCYWRnZS5pbWFnZS5zdWJzdHJpbmcodGhpcy5iYWRnZVBhdGgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlzRWRpdGVkID0gZmFsc2U7XG4gICAgICAvL2NvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRCYWRnZSk7XG5cbiAgICAgIHRoaXMuY291cnNlU2VydmljZS5lZGl0QmFkZ2UodGhpcy5zZWxlY3RlZEJhZGdlKVxuICAgICAgICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3RhdHVzID09ICdzdWNjZXNzJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5nT25Jbml0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0RWRpdEZvcm0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKGVycm9yKSA9PiBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgc2VsZWN0ZWQoaW1hZ2VSZXN1bHQ6IEltYWdlUmVzdWx0KSB7XG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZVJlc3VsdC5yZXNpemVkXG4gICAgICAgICAgICAmJiBpbWFnZVJlc3VsdC5yZXNpemVkLmRhdGFVUkxcbiAgICAgICAgICAgIHx8IGltYWdlUmVzdWx0LmRhdGFVUkw7XG4gICAgfVxuXG5cbiAgICBpc0VkaXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGVkaXRCYWRnZUltYWdlOiBzdHJpbmcgPSBcIlwiO1xuXG4gICAgc2VsZWN0ZWRCYWRnZUltYWdlKGltYWdlUmVzdWx0OiBJbWFnZVJlc3VsdCkge1xuICAgICAgICB0aGlzLmlzRWRpdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lZGl0QmFkZ2VJbWFnZSA9IGltYWdlUmVzdWx0LnJlc2l6ZWRcbiAgICAgICAgICAgICYmIGltYWdlUmVzdWx0LnJlc2l6ZWQuZGF0YVVSTFxuICAgICAgICAgICAgfHwgaW1hZ2VSZXN1bHQuZGF0YVVSTDtcbiAgICB9XG5cblxuICAgIGRlbGV0ZVBvcHVwKCl7XG4gICAgICB0aGlzLnJlc2V0RWRpdEZvcm0oKTtcbiAgICAgIHRoaXMuZGlzcGxheSA9IHRydWU7XG4gICAgICB0aGlzLm1lc3NhZ2UgPSB7XG4gICAgICAgIHRpdGxlOiAn4Lil4Lia4LmA4Lir4Lij4Li14Lii4LiNJyxcbiAgICAgICAgY29udGVudDogYOC4ouC4t+C4meC4ouC4seC4meC4geC4suC4o+C4peC4muC4guC5ieC4reC4oeC4ueC4peC4l+C4teC5iOC5gOC4peC4t+C4reC4gWAsXG4gICAgICAgIGJ1dHRvbjogJ+C4peC4midcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZGVsZXRlQmFkZ2UoKXtcblxuICAgICAgdGhpcy5zZWxlY3RlZEJhZGdlLmJhZGdlX2lkID0gdGhpcy5zZWxlY3RlZEJhZGdlLmlkO1xuICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkQmFkZ2UpO1xuICAgICAgICB0aGlzLmNvdXJzZVNlcnZpY2UuZGVsZXRlQmFkZ2UodGhpcy5zZWxlY3RlZEJhZGdlLmJhZGdlX2lkKVxuICAgICAgICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YS5zdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN0YXR1cyA9PSAnc3VjY2Vzcycpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZ09uSW5pdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldEVkaXRGb3JtKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKGVycm9yKSA9PiBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVzZXRFZGl0Rm9ybSgpe1xuICAgICAgJCgnI2Nsb3NlRWRpdEJhZGdlTW9kYWwnKS5jbGljaygpO1xuICAgIH1cblxuICAgIGNhbmNlbCgpe1xuICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICAgIH1cblxuICAgIG5nT25EZXN0cm95KCkge31cblxufVxuIl19
